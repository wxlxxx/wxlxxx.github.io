<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
	<title></title>
</head>
<body>
	<canvas id="myCanvas"></canvas>
	<p>
		<input id="input" type="" name="">
		<a href="javascript:;" onclick="demo()">ok</a>
	</p>
	<script type="text/javascript">
		// source code
		function drawCircleAnimate(old_pro,new_pro){
            requestAnimationFrame(function(){
                old_pro += 1
                drawCircle(old_pro)
                if(old_pro<new_pro){
                    drawCircleAnimate(old_pro,new_pro)
                }
            });
        }
        function drawCircle(_pro){
        	let width = 100
            let height = 100
            let lineWidth = 6
            let canvas = document.getElementById('myCanvas')
            canvas.width = width
            canvas.height = height
            let ctx = canvas.getContext("2d")
            ctx.lineWidth = lineWidth
            ctx.font = "36px MaisonNeueLIG,Lato,sans-serif,Arial,Helvetica"
            ctx.textBaseline = 'middle'
            ctx.textAlign = 'center';
            ctx.beginPath()
            ctx.strokeStyle = '#e6e6e6'
            ctx.arc(width/2,height/2,width/2-lineWidth,-Math.PI/2,Math.PI*3/2)
            ctx.stroke()
            if(_pro != undefined){
                ctx.beginPath()
                ctx.strokeStyle = '#0960b0'
                ctx.arc(width/2,height/2,width/2-lineWidth,-Math.PI/2,Math.PI*2*_pro/100-Math.PI/2)
                ctx.stroke()
            }
            ctx.beginPath()
            ctx.fillStyle = '#00a2ea'
            ctx.fillText(_pro, width/2, height/2);
        }
        // source code end

        var i = 0
        drawCircle(0)
        function demo(){
        	drawCircleAnimate(i,parseInt(document.getElementById('input').value))
        	i = parseInt(document.getElementById('input').value)
        }
	</script>
</body>
</html>