<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
	<script type="text/javascript" src="src/jquery.min.js"></script>
	<style type="text/css">
		*{margin: 0;padding: 0;}
	</style>
</head>
<body>
	<div style="height: 1000px"></div>
	<div class="box" style="width: 750px;background-color: #f8f8f8;height: 500px;">
		<div class="content" style="width: 300px;height: 200px;background-color: red;float: right;"></div>
	</div>
	<div style="height: 1000px"></div>

	<script type="text/javascript">
		fixedBox('.box','.content');
		function fixedBox(box,content){
			var H = $(box).innerHeight()
			var h = $(content).innerHeight()
			var offsetTop_box = $(box).offset().top
			console.log(H+','+h);
			$(window).scroll(function(){
				if( $(window).scrollTop() >= offsetTop_box+H-h ){
					$(content).css('margin-top',(H-h)+'px')
				}else if( $(window).scrollTop() >= offsetTop_box ){
					$(content).css('margin-top',$(window).scrollTop() - offsetTop_box)
				}else if($(window).scrollTop() < offsetTop_box){
					$(content).css('margin-top',0)
				}
			})
		}
	</script>
</body>
</html>