<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
	<title></title>
</head>
<body>
	<canvas id="myCanvas"></canvas>
	<p>
		<input id="input1" type="" name="">
        <input id="input2" type="" name="">
		<a href="javascript:;" onclick="demo()">ok</a>
	</p>
	<script type="text/javascript">
		// source code
		function drawCircleAnimate(ele,old_pro,curr_pro,new_pro){
            var ele = ele
            requestAnimationFrame(function(){
                curr_pro += 1
                drawCircle(ele,old_pro,curr_pro)
                if(curr_pro<new_pro){
                    drawCircleAnimate(ele,old_pro,curr_pro,new_pro)
                }
            });
        }
        function drawCircle(ele,start,end){
            let width = 80
            let height = 110
            let lineWidth = 10
            let canvas = document.getElementById(ele)
            canvas.width = width
            canvas.height = height
            let ctx = canvas.getContext("2d")
            ctx.beginPath()
            ctx.lineWidth = lineWidth
            ctx.strokeStyle = '#a3c8db66'
            ctx.arc(width/2,width/2,width/2-lineWidth,-Math.PI/2,Math.PI*3/2)
            ctx.stroke()
            if(start&&end){
                ctx.beginPath()
                ctx.lineWidth = lineWidth
                ctx.strokeStyle = '#00aee6'
                ctx.arc(width/2,width/2,width/2-lineWidth,Math.PI*2*start/100-Math.PI/2,Math.PI*2*end/100-Math.PI/2)
                ctx.stroke()
            }
            ctx.beginPath()
            ctx.font = "300 24px 'Muli',sans-serif,Arial,Helvetica"
            ctx.textBaseline = 'middle'
            ctx.textAlign = 'center';
            ctx.fillStyle = '#26324b'
            if(start&&end){
                ctx.fillText((end-start)+'%', width/2, 100);
            }else{
                ctx.fillText('0%', width/2, 100);
            }
        }
        // source code end

        drawCircle('myCanvas')
        function demo(){
        	drawCircleAnimate('myCanvas',parseInt(document.getElementById('input1').value),parseInt(document.getElementById('input1').value),parseInt(document.getElementById('input2').value))
        }
	</script>
</body>
</html>